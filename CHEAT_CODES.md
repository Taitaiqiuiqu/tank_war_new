# 调试作弊码功能

## 功能说明

在游戏进行时，按下 `Ctrl + 数字键 (1-8)` 可以在玩家坦克前方生成对应的道具。

## 使用方法

### 快捷键列表

| 快捷键 | 道具ID | 道具名称 | 效果 |
|--------|--------|----------|------|
| `Ctrl+1` | 1 | 坦克 | 增加一条生命 |
| `Ctrl+2` | 2 | 星星 | 坦克升级 |
| `Ctrl+3` | 3 | 铲子 | 基地强化（钢墙保护） |
| `Ctrl+4` | 4 | 定时炸弹 | 消灭屏幕上所有敌人 |
| `Ctrl+5` | 5 | 手雷 | 增加一颗子弹 |
| `Ctrl+6` | 6 | 护盾 | 获得护盾保护 |
| `Ctrl+7` | 7 | 计时器 | 冻结所有敌人 |
| `Ctrl+8` | 8 | 船 | 获得渡河能力 |

### 操作步骤

1. 开始游戏
2. 控制玩家坦克朝向想要生成道具的方向
3. 按住 `Ctrl` 键，然后按数字键 `1-8`
4. 道具会在坦克前方50像素处生成
5. 移动坦克去拾取道具

## 实现细节

### 代码位置
- **事件处理**: `src/game_engine/game.py` - `GameEngine.handle_event()`
- **道具生成**: `src/game_engine/game.py` - `GameEngine._spawn_cheat_prop()`

### 生成逻辑
1. 检测 `Ctrl` 键是否按下
2. 检测数字键 `1-8`
3. 获取玩家坦克位置和朝向
4. 根据朝向计算道具生成位置（前方50像素）
5. 边界检查，确保道具在地图内
6. 调用 `prop_manager.spawn_prop()` 生成道具

### 方向计算
- **向上 (UP)**: `x = tank_x, y = tank_y - 50`
- **向右 (RIGHT)**: `x = tank_x + 50, y = tank_y`
- **向下 (DOWN)**: `x = tank_x, y = tank_y + 50`
- **向左 (LEFT)**: `x = tank_x - 50, y = tank_y`

## 调试信息

控制台会输出：
```
[Cheat] 生成道具 {prop_id} 于位置 ({x}, {y})
```

如果玩家坦克不存在或未激活：
```
[Cheat] 无法生成道具：玩家坦克不存在或未激活
```

## 注意事项

1. ⚠️ 这是调试功能，仅用于测试
2. 道具会生成在坦克前方，确保前方有空间
3. 如果坦克靠近地图边缘，道具位置会自动调整到地图内
4. 暂停时无法使用此功能
5. 需要玩家坦克存活才能使用

## 测试建议

测试每个道具的效果：
1. `Ctrl+1` - 测试生命增加
2. `Ctrl+2` - 测试坦克升级
3. `Ctrl+3` - 测试基地强化
4. `Ctrl+4` - 测试消灭所有敌人
5. `Ctrl+5` - 测试子弹增加
6. `Ctrl+6` - 测试护盾效果
7. `Ctrl+7` - 测试敌人冻结
8. `Ctrl+8` - 测试渡河能力
